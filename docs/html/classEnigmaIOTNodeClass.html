<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EnigmaIOT: EnigmaIOTNodeClass Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo text inside.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EnigmaIOT
   &#160;<span id="projectnumber">0.4.0</span>
   </div>
   <div id="projectbrief">Secure sensor and gateway platform based on ESP8266</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classEnigmaIOTNodeClass-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">EnigmaIOTNodeClass Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Main node class. Manages communication with gateway and allows sending and receiving user data.  
 <a href="classEnigmaIOTNodeClass.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abff1de59af5ff0f9fd2e89b996f31f06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#abff1de59af5ff0f9fd2e89b996f31f06">begin</a> (<a class="el" href="classComms__halClass.html">Comms_halClass</a> *<a class="el" href="classEnigmaIOTNodeClass.html#a7fca29c7cd9cba0115ec42566250275d">comm</a>, uint8_t *<a class="el" href="enigmaiot__node__nonsleepy_8ino.html#ace2c0445ab33641bc6497093c8a1f5f5">gateway</a>=NULL, uint8_t *networkKey=NULL, bool <a class="el" href="classEnigmaIOTNodeClass.html#acb396ad8481d5fe7c99227cae4a1f1cf">useCounter</a>=true, bool sleepy=true)</td></tr>
<tr class="memdesc:abff1de59af5ff0f9fd2e89b996f31f06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initalizes communication basic data and starts node registration.  <a href="#abff1de59af5ff0f9fd2e89b996f31f06">More...</a><br /></td></tr>
<tr class="separator:abff1de59af5ff0f9fd2e89b996f31f06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1729724a332e907bddbe7b27c2f3c22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#ae1729724a332e907bddbe7b27c2f3c22">stop</a> ()</td></tr>
<tr class="memdesc:ae1729724a332e907bddbe7b27c2f3c22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops EnigmaIoT protocol.  <a href="#ae1729724a332e907bddbe7b27c2f3c22">More...</a><br /></td></tr>
<tr class="separator:ae1729724a332e907bddbe7b27c2f3c22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbe871995405142bf6bd56bbe4ce2822"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#acbe871995405142bf6bd56bbe4ce2822">setSleepTime</a> (uint32_t <a class="el" href="classEnigmaIOTNodeClass.html#a358bcf3efcf3a3c08249409852590e91">sleepTime</a>)</td></tr>
<tr class="memdesc:acbe871995405142bf6bd56bbe4ce2822"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows to configure a new sleep time period from user code.  <a href="#acbe871995405142bf6bd56bbe4ce2822">More...</a><br /></td></tr>
<tr class="separator:acbe871995405142bf6bd56bbe4ce2822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0144b183ee216aa5b977086ae1753d3c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a0144b183ee216aa5b977086ae1753d3c">getSleepTime</a> ()</td></tr>
<tr class="memdesc:a0144b183ee216aa5b977086ae1753d3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns sleep period in seconds.  <a href="#a0144b183ee216aa5b977086ae1753d3c">More...</a><br /></td></tr>
<tr class="separator:a0144b183ee216aa5b977086ae1753d3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53bbbb07409315ada40ad53d00344252"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a53bbbb07409315ada40ad53d00344252">handle</a> ()</td></tr>
<tr class="memdesc:a53bbbb07409315ada40ad53d00344252"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method should be called periodically for instance inside <code><a class="el" href="enigmaiot__gateway_8ino.html#afe461d27b9c48d5921c00d521181f12f">loop()</a></code> function. It is used for internal node maintenance tasks.  <a href="#a53bbbb07409315ada40ad53d00344252">More...</a><br /></td></tr>
<tr class="separator:a53bbbb07409315ada40ad53d00344252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a676fe253cb264ed17525622c6fb3bd00"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a676fe253cb264ed17525622c6fb3bd00">setLed</a> (uint8_t <a class="el" href="classEnigmaIOTNodeClass.html#a416d8a7660d1eaa85422247e9e918781">led</a>, time_t onTime=100)</td></tr>
<tr class="memdesc:a676fe253cb264ed17525622c6fb3bd00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a LED to be flashed every time a message is transmitted.  <a href="#a676fe253cb264ed17525622c6fb3bd00">More...</a><br /></td></tr>
<tr class="separator:a676fe253cb264ed17525622c6fb3bd00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad30668f1c40273757fef31020a389f47"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#ad30668f1c40273757fef31020a389f47">sendData</a> (const uint8_t *data, size_t len)</td></tr>
<tr class="memdesc:ad30668f1c40273757fef31020a389f47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a data message transmission.  <a href="#ad30668f1c40273757fef31020a389f47">More...</a><br /></td></tr>
<tr class="separator:ad30668f1c40273757fef31020a389f47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c8523627fb660441dbdcbc8a796c3b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a2c8523627fb660441dbdcbc8a796c3b4">onDataRx</a> (<a class="el" href="EnigmaIOTNode_8h.html#a84ab23c0af9b591aa9a57e2040218c91">onNodeDataRx_t</a> handler)</td></tr>
<tr class="memdesc:a2c8523627fb660441dbdcbc8a796c3b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines a function callback that will be called on every downlink data message that is received from gateway.  <a href="#a2c8523627fb660441dbdcbc8a796c3b4">More...</a><br /></td></tr>
<tr class="separator:a2c8523627fb660441dbdcbc8a796c3b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce855b22bb1045a9cf4af9c4130500f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#acce855b22bb1045a9cf4af9c4130500f">onConnected</a> (<a class="el" href="EnigmaIOTNode_8h.html#a37ce04fd79315c001e113198fab23386">onConnected_t</a> handler)</td></tr>
<tr class="memdesc:acce855b22bb1045a9cf4af9c4130500f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines a function callback that will be called everytime node is registered on gateway.  <a href="#acce855b22bb1045a9cf4af9c4130500f">More...</a><br /></td></tr>
<tr class="separator:acce855b22bb1045a9cf4af9c4130500f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a636b6779d3c5a41e52fd6bb4b0ef31c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a636b6779d3c5a41e52fd6bb4b0ef31c0">onDisconnected</a> (<a class="el" href="EnigmaIOTNode_8h.html#ac989871ff2fef9419b7b3917b270ea26">onDisconnected_t</a> handler)</td></tr>
<tr class="memdesc:a636b6779d3c5a41e52fd6bb4b0ef31c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines a function callback that will be called everytime node is disconnected from gateway.  <a href="#a636b6779d3c5a41e52fd6bb4b0ef31c0">More...</a><br /></td></tr>
<tr class="separator:a636b6779d3c5a41e52fd6bb4b0ef31c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81ab5be7b67c28948ea5de40e5d3c360"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a81ab5be7b67c28948ea5de40e5d3c360">sleep</a> ()</td></tr>
<tr class="memdesc:a81ab5be7b67c28948ea5de40e5d3c360"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests transition to sleep mode (low energy state)  <a href="#a81ab5be7b67c28948ea5de40e5d3c360">More...</a><br /></td></tr>
<tr class="separator:a81ab5be7b67c28948ea5de40e5d3c360"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ff8feb307487b8297ca5069fc9d9b14"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a4ff8feb307487b8297ca5069fc9d9b14">clock</a> ()</td></tr>
<tr class="memdesc:a4ff8feb307487b8297ca5069fc9d9b14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets current clock counter. millis() + offset.  <a href="#a4ff8feb307487b8297ca5069fc9d9b14">More...</a><br /></td></tr>
<tr class="separator:a4ff8feb307487b8297ca5069fc9d9b14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c015860a4a1650d3e2653212d13179e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a1c015860a4a1650d3e2653212d13179e">hasClockSync</a> ()</td></tr>
<tr class="memdesc:a1c015860a4a1650d3e2653212d13179e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if internal clock is synchronized to gateway.  <a href="#a1c015860a4a1650d3e2653212d13179e">More...</a><br /></td></tr>
<tr class="separator:a1c015860a4a1650d3e2653212d13179e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43abab3a73d46ff99f33c8596512dcaf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a43abab3a73d46ff99f33c8596512dcaf">isRegistered</a> ()</td></tr>
<tr class="memdesc:a43abab3a73d46ff99f33c8596512dcaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if node is registered.  <a href="#a43abab3a73d46ff99f33c8596512dcaf">More...</a><br /></td></tr>
<tr class="separator:a43abab3a73d46ff99f33c8596512dcaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a461dd5c9def2768c3c4b87cfc9be6ef8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a461dd5c9def2768c3c4b87cfc9be6ef8">checkCRC</a> (const uint8_t *buf, size_t count, uint32_t *crc)</td></tr>
<tr class="memdesc:a461dd5c9def2768c3c4b87cfc9be6ef8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that a given CRC matches to calulated value from a buffer.  <a href="#a461dd5c9def2768c3c4b87cfc9be6ef8">More...</a><br /></td></tr>
<tr class="separator:a461dd5c9def2768c3c4b87cfc9be6ef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1701a6f85406e5deef210c74d509a471"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a1701a6f85406e5deef210c74d509a471">startIdentifying</a> (time_t period)</td></tr>
<tr class="memdesc:a1701a6f85406e5deef210c74d509a471"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts node identification by flashing led.  <a href="#a1701a6f85406e5deef210c74d509a471">More...</a><br /></td></tr>
<tr class="separator:a1701a6f85406e5deef210c74d509a471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a659fca03ecdfd18e19be1b39b4e703b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a659fca03ecdfd18e19be1b39b4e703b3">stopIdentifying</a> ()</td></tr>
<tr class="memdesc:a659fca03ecdfd18e19be1b39b4e703b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops node identification.  <a href="#a659fca03ecdfd18e19be1b39b4e703b3">More...</a><br /></td></tr>
<tr class="separator:a659fca03ecdfd18e19be1b39b4e703b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1408c0ed378a9b46e62d98f88545893"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#af1408c0ed378a9b46e62d98f88545893">loadRTCData</a> ()</td></tr>
<tr class="memdesc:af1408c0ed378a9b46e62d98f88545893"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads configuration from RTC data. Uses a CRC to check data integrity.  <a href="#af1408c0ed378a9b46e62d98f88545893">More...</a><br /></td></tr>
<tr class="separator:af1408c0ed378a9b46e62d98f88545893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8574c3435e748fbca1b99eeec4c770c2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a8574c3435e748fbca1b99eeec4c770c2">loadFlashData</a> ()</td></tr>
<tr class="memdesc:a8574c3435e748fbca1b99eeec4c770c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads configuration from flash memory.  <a href="#a8574c3435e748fbca1b99eeec4c770c2">More...</a><br /></td></tr>
<tr class="separator:a8574c3435e748fbca1b99eeec4c770c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8820a8a50bdf0b3d355481d7b61854d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#aa8820a8a50bdf0b3d355481d7b61854d">saveFlashData</a> ()</td></tr>
<tr class="memdesc:aa8820a8a50bdf0b3d355481d7b61854d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves configuration to flash memory.  <a href="#aa8820a8a50bdf0b3d355481d7b61854d">More...</a><br /></td></tr>
<tr class="separator:aa8820a8a50bdf0b3d355481d7b61854d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41984c7560df0af008fc526ee38b0b42"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a41984c7560df0af008fc526ee38b0b42">configWiFiManager</a> (<a class="el" href="structrtcmem__data__t.html">rtcmem_data_t</a> *data)</td></tr>
<tr class="memdesc:a41984c7560df0af008fc526ee38b0b42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts configuration AP and web server and gets settings from it.  <a href="#a41984c7560df0af008fc526ee38b0b42">More...</a><br /></td></tr>
<tr class="separator:a41984c7560df0af008fc526ee38b0b42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94a6a83a983c3d258f49be646f432b37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a94a6a83a983c3d258f49be646f432b37">restart</a> (bool reboot=true)</td></tr>
<tr class="memdesc:a94a6a83a983c3d258f49be646f432b37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets connection as unregistered to force a resyncrhonisation after boot.  <a href="#a94a6a83a983c3d258f49be646f432b37">More...</a><br /></td></tr>
<tr class="separator:a94a6a83a983c3d258f49be646f432b37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ddc7fce5233d3959cfb52dd3c7f605c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a1ddc7fce5233d3959cfb52dd3c7f605c">clientHello</a> ()</td></tr>
<tr class="memdesc:a1ddc7fce5233d3959cfb52dd3c7f605c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build a <b>ClientHello</b> messange and send it to gateway.  <a href="#a1ddc7fce5233d3959cfb52dd3c7f605c">More...</a><br /></td></tr>
<tr class="separator:a1ddc7fce5233d3959cfb52dd3c7f605c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d62eaa08920568f019ef240dd98dc3b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a1d62eaa08920568f019ef240dd98dc3b">clockRequest</a> ()</td></tr>
<tr class="separator:a1d62eaa08920568f019ef240dd98dc3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad66c9dd4122ff289ff3098a55fabe7a5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#ad66c9dd4122ff289ff3098a55fabe7a5">processClockResponse</a> (const uint8_t mac[6], const uint8_t *buf, size_t count)</td></tr>
<tr class="separator:ad66c9dd4122ff289ff3098a55fabe7a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ccccd41338c4b4ce19e06fb06842813"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a3ccccd41338c4b4ce19e06fb06842813">processServerHello</a> (const uint8_t mac[6], const uint8_t *buf, size_t count)</td></tr>
<tr class="memdesc:a3ccccd41338c4b4ce19e06fb06842813"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a buffer containing a <b>ServerHello</b> message and process it. It uses that message to calculate a shared key using Diffie Hellman algorithm.  <a href="#a3ccccd41338c4b4ce19e06fb06842813">More...</a><br /></td></tr>
<tr class="separator:a3ccccd41338c4b4ce19e06fb06842813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12b0da5d06a335114f4da3a51f7caba9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EnigmaIOTNode_8h.html#a1c3e9c34675da8090182cab1de105bc6">nodeInvalidateReason_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a12b0da5d06a335114f4da3a51f7caba9">processInvalidateKey</a> (const uint8_t mac[6], const uint8_t *buf, size_t count)</td></tr>
<tr class="memdesc:a12b0da5d06a335114f4da3a51f7caba9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a buffer containing an <b>InvalidateKey</b> message and process it. This trigger a new key agreement to start.  <a href="#a12b0da5d06a335114f4da3a51f7caba9">More...</a><br /></td></tr>
<tr class="separator:a12b0da5d06a335114f4da3a51f7caba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9148c034b189c962489ee8571f7ca79"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#ae9148c034b189c962489ee8571f7ca79">dataMessage</a> (const uint8_t *data, size_t len, bool controlMessage=false)</td></tr>
<tr class="memdesc:ae9148c034b189c962489ee8571f7ca79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds, encrypts and sends a <b>Data</b> message.  <a href="#ae9148c034b189c962489ee8571f7ca79">More...</a><br /></td></tr>
<tr class="separator:ae9148c034b189c962489ee8571f7ca79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa632927a0a9da18d3605e29aa3a055f2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#aa632927a0a9da18d3605e29aa3a055f2">processOTACommand</a> (const uint8_t *mac, const uint8_t *data, uint8_t len)</td></tr>
<tr class="memdesc:aa632927a0a9da18d3605e29aa3a055f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes a single OTA update command or data.  <a href="#aa632927a0a9da18d3605e29aa3a055f2">More...</a><br /></td></tr>
<tr class="separator:aa632927a0a9da18d3605e29aa3a055f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae57b6aba71857b28758179c91bcfb680"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#ae57b6aba71857b28758179c91bcfb680">processControlCommand</a> (const uint8_t mac[6], const uint8_t *data, size_t len)</td></tr>
<tr class="memdesc:ae57b6aba71857b28758179c91bcfb680"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes a control command. Does not propagate to user code.  <a href="#ae57b6aba71857b28758179c91bcfb680">More...</a><br /></td></tr>
<tr class="separator:ae57b6aba71857b28758179c91bcfb680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37c0e0bc6f728ec86bca5d8dd017620b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a37c0e0bc6f728ec86bca5d8dd017620b">processDownstreamData</a> (const uint8_t mac[6], const uint8_t *buf, size_t count, bool control=false)</td></tr>
<tr class="memdesc:a37c0e0bc6f728ec86bca5d8dd017620b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes downstream data from gateway.  <a href="#a37c0e0bc6f728ec86bca5d8dd017620b">More...</a><br /></td></tr>
<tr class="separator:a37c0e0bc6f728ec86bca5d8dd017620b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a846d3d0dd41fcaa8944e7cbe804bef93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a846d3d0dd41fcaa8944e7cbe804bef93">manageMessage</a> (const uint8_t *mac, const uint8_t *buf, uint8_t count)</td></tr>
<tr class="memdesc:a846d3d0dd41fcaa8944e7cbe804bef93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process every received message.  <a href="#a846d3d0dd41fcaa8944e7cbe804bef93">More...</a><br /></td></tr>
<tr class="separator:a846d3d0dd41fcaa8944e7cbe804bef93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a726847ca0ed458b01c23e78672aa4059"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a726847ca0ed458b01c23e78672aa4059">getStatus</a> (uint8_t *mac_addr, uint8_t status)</td></tr>
<tr class="memdesc:a726847ca0ed458b01c23e78672aa4059"><td class="mdescLeft">&#160;</td><td class="mdescRight">Functrion to debug send status.  <a href="#a726847ca0ed458b01c23e78672aa4059">More...</a><br /></td></tr>
<tr class="separator:a726847ca0ed458b01c23e78672aa4059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b8a2368449f3fd7a1986fb80d9e4274"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a5b8a2368449f3fd7a1986fb80d9e4274">processGetSleepTimeCommand</a> (const uint8_t *mac, const uint8_t *buf, uint8_t len)</td></tr>
<tr class="memdesc:a5b8a2368449f3fd7a1986fb80d9e4274"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes a request of sleep time configuration.  <a href="#a5b8a2368449f3fd7a1986fb80d9e4274">More...</a><br /></td></tr>
<tr class="separator:a5b8a2368449f3fd7a1986fb80d9e4274"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab348fec65af29c28ebc8c1a342e3b241"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#ab348fec65af29c28ebc8c1a342e3b241">processSetSleepTimeCommand</a> (const uint8_t *mac, const uint8_t *buf, uint8_t len)</td></tr>
<tr class="memdesc:ab348fec65af29c28ebc8c1a342e3b241"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes a request to set new sleep time configuration.  <a href="#ab348fec65af29c28ebc8c1a342e3b241">More...</a><br /></td></tr>
<tr class="separator:ab348fec65af29c28ebc8c1a342e3b241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04a1d59adae7dc0786ac6e066c5d1263"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a04a1d59adae7dc0786ac6e066c5d1263">processSetIdentifyCommand</a> (const uint8_t *mac, const uint8_t *buf, uint8_t len)</td></tr>
<tr class="memdesc:a04a1d59adae7dc0786ac6e066c5d1263"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes a request to start indicate to identify a node visually.  <a href="#a04a1d59adae7dc0786ac6e066c5d1263">More...</a><br /></td></tr>
<tr class="separator:a04a1d59adae7dc0786ac6e066c5d1263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2c135a9d3623b28dda13acdbd4d5615"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#ac2c135a9d3623b28dda13acdbd4d5615">processVersionCommand</a> (const uint8_t *mac, const uint8_t *buf, uint8_t len)</td></tr>
<tr class="memdesc:ac2c135a9d3623b28dda13acdbd4d5615"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes a request firmware version.  <a href="#ac2c135a9d3623b28dda13acdbd4d5615">More...</a><br /></td></tr>
<tr class="separator:ac2c135a9d3623b28dda13acdbd4d5615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a564b1f56e06c5b308c53c8240384a664"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a564b1f56e06c5b308c53c8240384a664">sendData</a> (const uint8_t *data, size_t len, bool controlMessage)</td></tr>
<tr class="memdesc:a564b1f56e06c5b308c53c8240384a664"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiades data transmission distinguissing if it is payload or control data.  <a href="#a564b1f56e06c5b308c53c8240384a664">More...</a><br /></td></tr>
<tr class="separator:a564b1f56e06c5b308c53c8240384a664"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a4efeeca90488a14e95283c31d70ee0e4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a4efeeca90488a14e95283c31d70ee0e4">rx_cb</a> (uint8_t *mac_addr, uint8_t *data, uint8_t len)</td></tr>
<tr class="memdesc:a4efeeca90488a14e95283c31d70ee0e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that will be called anytime this node receives a message.  <a href="#a4efeeca90488a14e95283c31d70ee0e4">More...</a><br /></td></tr>
<tr class="separator:a4efeeca90488a14e95283c31d70ee0e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e50f907a24843d7752e81664e28fde9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a3e50f907a24843d7752e81664e28fde9">tx_cb</a> (uint8_t *mac_addr, uint8_t status)</td></tr>
<tr class="memdesc:a3e50f907a24843d7752e81664e28fde9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that will be called anytime this node sends a message to indicate status result of sending process.  <a href="#a3e50f907a24843d7752e81664e28fde9">More...</a><br /></td></tr>
<tr class="separator:a3e50f907a24843d7752e81664e28fde9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a59edd64bf4bf9acf6b18b6af90c9a435"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNode.html">Node</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a59edd64bf4bf9acf6b18b6af90c9a435">node</a></td></tr>
<tr class="memdesc:a59edd64bf4bf9acf6b18b6af90c9a435"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classNode.html" title="Class definition for a single sensor Node. ">Node</a> abstraction to store context.  <a href="#a59edd64bf4bf9acf6b18b6af90c9a435">More...</a><br /></td></tr>
<tr class="separator:a59edd64bf4bf9acf6b18b6af90c9a435"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4be66e40b4882a486cf8ee80a4277438"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a4be66e40b4882a486cf8ee80a4277438">flashBlue</a> = false</td></tr>
<tr class="memdesc:a4be66e40b4882a486cf8ee80a4277438"><td class="mdescLeft">&#160;</td><td class="mdescRight">If true Tx LED will be flashed.  <a href="#a4be66e40b4882a486cf8ee80a4277438">More...</a><br /></td></tr>
<tr class="separator:a4be66e40b4882a486cf8ee80a4277438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a416d8a7660d1eaa85422247e9e918781"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a416d8a7660d1eaa85422247e9e918781">led</a> = -1</td></tr>
<tr class="memdesc:a416d8a7660d1eaa85422247e9e918781"><td class="mdescLeft">&#160;</td><td class="mdescRight">IO Pin that corresponds to Tx LED. Default value disables LED. It is initialized with <code>setLed</code> method.  <a href="#a416d8a7660d1eaa85422247e9e918781">More...</a><br /></td></tr>
<tr class="separator:a416d8a7660d1eaa85422247e9e918781"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13b4e0476b9afe933303985e9a7025f1"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a13b4e0476b9afe933303985e9a7025f1">ledOnTime</a></td></tr>
<tr class="memdesc:a13b4e0476b9afe933303985e9a7025f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time that LED is On during flash. Initalized on <code>setLed</code>  <a href="#a13b4e0476b9afe933303985e9a7025f1">More...</a><br /></td></tr>
<tr class="separator:a13b4e0476b9afe933303985e9a7025f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fca29c7cd9cba0115ec42566250275d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classComms__halClass.html">Comms_halClass</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a7fca29c7cd9cba0115ec42566250275d">comm</a></td></tr>
<tr class="memdesc:a7fca29c7cd9cba0115ec42566250275d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Comms abstraction layer.  <a href="#a7fca29c7cd9cba0115ec42566250275d">More...</a><br /></td></tr>
<tr class="separator:a7fca29c7cd9cba0115ec42566250275d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c188f7db5bdde5837a02e4095c3b549"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EnigmaIOTNode_8h.html#a84ab23c0af9b591aa9a57e2040218c91">onNodeDataRx_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a5c188f7db5bdde5837a02e4095c3b549">notifyData</a></td></tr>
<tr class="memdesc:a5c188f7db5bdde5837a02e4095c3b549"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback that will be called on every message reception.  <a href="#a5c188f7db5bdde5837a02e4095c3b549">More...</a><br /></td></tr>
<tr class="separator:a5c188f7db5bdde5837a02e4095c3b549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2da55526a67b70c0b724fe1d856cc72"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EnigmaIOTNode_8h.html#a37ce04fd79315c001e113198fab23386">onConnected_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#ae2da55526a67b70c0b724fe1d856cc72">notifyConnection</a></td></tr>
<tr class="memdesc:ae2da55526a67b70c0b724fe1d856cc72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback that will be called anytime a new node is registered.  <a href="#ae2da55526a67b70c0b724fe1d856cc72">More...</a><br /></td></tr>
<tr class="separator:ae2da55526a67b70c0b724fe1d856cc72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e506efc2aa99694bfa13a59b07d55cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EnigmaIOTNode_8h.html#ac989871ff2fef9419b7b3917b270ea26">onDisconnected_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a0e506efc2aa99694bfa13a59b07d55cc">notifyDisconnection</a></td></tr>
<tr class="memdesc:a0e506efc2aa99694bfa13a59b07d55cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback that will be called anytime a node is disconnected.  <a href="#a0e506efc2aa99694bfa13a59b07d55cc">More...</a><br /></td></tr>
<tr class="separator:a0e506efc2aa99694bfa13a59b07d55cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb396ad8481d5fe7c99227cae4a1f1cf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#acb396ad8481d5fe7c99227cae4a1f1cf">useCounter</a> = true</td></tr>
<tr class="memdesc:acb396ad8481d5fe7c99227cae4a1f1cf"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>true</code> means that data message counter will be used to mark message order  <a href="#acb396ad8481d5fe7c99227cae4a1f1cf">More...</a><br /></td></tr>
<tr class="separator:acb396ad8481d5fe7c99227cae4a1f1cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3f6f92f204d4667e2a577cd23965f69"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrtcmem__data__t.html">rtcmem_data_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#ad3f6f92f204d4667e2a577cd23965f69">rtcmem_data</a></td></tr>
<tr class="memdesc:ad3f6f92f204d4667e2a577cd23965f69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Context data to be stored on persistent storage.  <a href="#ad3f6f92f204d4667e2a577cd23965f69">More...</a><br /></td></tr>
<tr class="separator:ad3f6f92f204d4667e2a577cd23965f69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0186926009fc565b05f5a2c37dfb3649"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a0186926009fc565b05f5a2c37dfb3649">sleepRequested</a> = false</td></tr>
<tr class="memdesc:a0186926009fc565b05f5a2c37dfb3649"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>true</code> means that this node will sleep as soon a message is sent and downlink wait time has passed  <a href="#a0186926009fc565b05f5a2c37dfb3649">More...</a><br /></td></tr>
<tr class="separator:a0186926009fc565b05f5a2c37dfb3649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a358bcf3efcf3a3c08249409852590e91"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a358bcf3efcf3a3c08249409852590e91">sleepTime</a></td></tr>
<tr class="memdesc:a358bcf3efcf3a3c08249409852590e91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time in microseconds that this node will be slept between measurements.  <a href="#a358bcf3efcf3a3c08249409852590e91">More...</a><br /></td></tr>
<tr class="separator:a358bcf3efcf3a3c08249409852590e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d6b6cce8aa2484af80617db10da4ea4"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a3d6b6cce8aa2484af80617db10da4ea4">dataMessageSent</a> [<a class="el" href="EnigmaIoTconfig_8h.html#a9dbccd523bb0ed9a3266bc8c448f4432">MAX_MESSAGE_LENGTH</a>]</td></tr>
<tr class="memdesc:a3d6b6cce8aa2484af80617db10da4ea4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer where sent message is stored in case of retransmission is needed.  <a href="#a3d6b6cce8aa2484af80617db10da4ea4">More...</a><br /></td></tr>
<tr class="separator:a3d6b6cce8aa2484af80617db10da4ea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77067c58362c3beb192545cb3ba1a775"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a77067c58362c3beb192545cb3ba1a775">dataMessageSentLength</a> = 0</td></tr>
<tr class="memdesc:a77067c58362c3beb192545cb3ba1a775"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message length stored for use in case of message retransmission is needed.  <a href="#a77067c58362c3beb192545cb3ba1a775">More...</a><br /></td></tr>
<tr class="separator:a77067c58362c3beb192545cb3ba1a775"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39fd0a21844a920f3a237e25311f58f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EnigmaIOTNode_8h.html#a1c3e9c34675da8090182cab1de105bc6">nodeInvalidateReason_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a39fd0a21844a920f3a237e25311f58f8">invalidateReason</a> = <a class="el" href="EnigmaIOTNode_8h.html#a1c3e9c34675da8090182cab1de105bc6a8216aa4b3a817cdf8c15ed32aa946e83">UNKNOWN_ERROR</a></td></tr>
<tr class="memdesc:a39fd0a21844a920f3a237e25311f58f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last key invalidation reason.  <a href="#a39fd0a21844a920f3a237e25311f58f8">More...</a><br /></td></tr>
<tr class="separator:a39fd0a21844a920f3a237e25311f58f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a238294f8ca6888e5e6000592e0955888"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a238294f8ca6888e5e6000592e0955888">otaRunning</a> = false</td></tr>
<tr class="memdesc:a238294f8ca6888e5e6000592e0955888"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if OTA update has started.  <a href="#a238294f8ca6888e5e6000592e0955888">More...</a><br /></td></tr>
<tr class="separator:a238294f8ca6888e5e6000592e0955888"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70fa9cce1a3080b3e946783a791363d6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a70fa9cce1a3080b3e946783a791363d6">otaError</a> = false</td></tr>
<tr class="memdesc:a70fa9cce1a3080b3e946783a791363d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if OTA update has failed. This normally produces a restart.  <a href="#a70fa9cce1a3080b3e946783a791363d6">More...</a><br /></td></tr>
<tr class="separator:a70fa9cce1a3080b3e946783a791363d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3d2d41b518fbbb99d6c4d8824b9d4bd"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#ad3d2d41b518fbbb99d6c4d8824b9d4bd">lastOTAmsg</a></td></tr>
<tr class="memdesc:ad3d2d41b518fbbb99d6c4d8824b9d4bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time when last OTA update message has received. This is used to control timeout.  <a href="#ad3d2d41b518fbbb99d6c4d8824b9d4bd">More...</a><br /></td></tr>
<tr class="separator:ad3d2d41b518fbbb99d6c4d8824b9d4bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2a4910739da2e9181f2274cbc4d078a"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#aa2a4910739da2e9181f2274cbc4d078a">indentifying</a> = false</td></tr>
<tr class="memdesc:aa2a4910739da2e9181f2274cbc4d078a"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if node has its led flashing to be identified.  <a href="#aa2a4910739da2e9181f2274cbc4d078a">More...</a><br /></td></tr>
<tr class="separator:aa2a4910739da2e9181f2274cbc4d078a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ffe72d0ffb67d58f2e435308433b8ad"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnigmaIOTNodeClass.html#a9ffe72d0ffb67d58f2e435308433b8ad">identifyStart</a></td></tr>
<tr class="memdesc:a9ffe72d0ffb67d58f2e435308433b8ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time when identification started flashing. Used to control identification timeout.  <a href="#a9ffe72d0ffb67d58f2e435308433b8ad">More...</a><br /></td></tr>
<tr class="separator:a9ffe72d0ffb67d58f2e435308433b8ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main node class. Manages communication with gateway and allows sending and receiving user data. </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00091">91</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="abff1de59af5ff0f9fd2e89b996f31f06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abff1de59af5ff0f9fd2e89b996f31f06">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EnigmaIOTNodeClass::begin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classComms__halClass.html">Comms_halClass</a> *&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>gateway</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>networkKey</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>useCounter</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sleepy</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initalizes communication basic data and starts node registration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">comm</td><td>Physical layer to be used on this node network </td></tr>
    <tr><td class="paramname">gateway</td><td>Gateway address </td></tr>
    <tr><td class="paramname">networkKey</td><td>Network key to protect shared key agreement </td></tr>
    <tr><td class="paramname">useCounter</td><td>Indicates if a counter has to be added to every message data to check message sequence. <code>true</code> by default </td></tr>
    <tr><td class="paramname">sleepy</td><td>Indicates if this node changes to low energy mode (sleep mode) after sending a data message. <code>true</code> by default</td></tr>
  </table>
  </dd>
</dl>
<p>This condition is signalled to Gateway during registration so that downlink messages are managed diferently. On non sleepy nodes a downlink data message can be sent on any moment as node will be always awake. But for nodes that sleep, normally those that are powered with batteries, downlink message will be queued on gateway and sent just after an uplink data message from node has been sent </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00230">230</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a461dd5c9def2768c3c4b87cfc9be6ef8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a461dd5c9def2768c3c4b87cfc9be6ef8">&#9670;&nbsp;</a></span>checkCRC()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::checkCRC </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>crc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check that a given CRC matches to calulated value from a buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Pointer to the buffer that contains the stream to calculate CRC </td></tr>
    <tr><td class="paramname">count</td><td>Buffer length in number of bytes </td></tr>
    <tr><td class="paramname">crc</td><td>Received CRC to check against calculation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <code>true</code> if CRC check was successful. <code>false</code> otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00462">462</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a1ddc7fce5233d3959cfb52dd3c7f605c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ddc7fce5233d3959cfb52dd3c7f605c">&#9670;&nbsp;</a></span>clientHello()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::clientHello </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Build a <b>ClientHello</b> messange and send it to gateway. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns <code>true</code> if ClientHello message was successfully sent. <code>false</code> otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00472">472</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a4ff8feb307487b8297ca5069fc9d9b14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ff8feb307487b8297ca5069fc9d9b14">&#9670;&nbsp;</a></span>clock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t EnigmaIOTNodeClass::clock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets current clock counter. millis() + offset. </p>
<dl class="section return"><dt>Returns</dt><dd>Clock value in <code>time_t</code> format </dd></dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00605">605</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a1d62eaa08920568f019ef240dd98dc3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d62eaa08920568f019ef240dd98dc3b">&#9670;&nbsp;</a></span>clockRequest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::clockRequest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00555">555</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a41984c7560df0af008fc526ee38b0b42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41984c7560df0af008fc526ee38b0b42">&#9670;&nbsp;</a></span>configWiFiManager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::configWiFiManager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrtcmem__data__t.html">rtcmem_data_t</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Starts configuration AP and web server and gets settings from it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Pointer to configuration data to be stored on RTC memory to keep status along sleep cycles </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <code>true</code> if data was been correctly configured. <code>false</code> otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00148">148</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="ae9148c034b189c962489ee8571f7ca79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9148c034b189c962489ee8571f7ca79">&#9670;&nbsp;</a></span>dataMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::dataMessage </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>controlMessage</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Builds, encrypts and sends a <b>Data</b> message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Buffer to store payload to be sent </td></tr>
    <tr><td class="paramname">len</td><td>Length of payload data </td></tr>
    <tr><td class="paramname">controlMessage</td><td>Signals if this message is an EnigmaIoT control message that should not be passed to higher layers </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <code>true</code> if message could be correcly sent </dd></dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00713">713</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a0144b183ee216aa5b977086ae1753d3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0144b183ee216aa5b977086ae1753d3c">&#9670;&nbsp;</a></span>getSleepTime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t EnigmaIOTNodeClass::getSleepTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns sleep period in seconds. </p>
<dl class="section return"><dt>Returns</dt><dd>Sleep period in seconds </dd></dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00342">342</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="a726847ca0ed458b01c23e78672aa4059"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a726847ca0ed458b01c23e78672aa4059">&#9670;&nbsp;</a></span>getStatus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void EnigmaIOTNodeClass::getStatus </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>mac_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Functrion to debug send status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mac_addr</td><td>Address of message sender </td></tr>
    <tr><td class="paramname">status</td><td>Result status code </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l01253">1253</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a53bbbb07409315ada40ad53d00344252"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53bbbb07409315ada40ad53d00344252">&#9670;&nbsp;</a></span>handle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EnigmaIOTNodeClass::handle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method should be called periodically for instance inside <code><a class="el" href="enigmaiot__gateway_8ino.html#afe461d27b9c48d5921c00d521181f12f">loop()</a></code> function. It is used for internal node maintenance tasks. </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00358">358</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a1c015860a4a1650d3e2653212d13179e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c015860a4a1650d3e2653212d13179e">&#9670;&nbsp;</a></span>hasClockSync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::hasClockSync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if internal clock is synchronized to gateway. </p>
<dl class="section return"><dt>Returns</dt><dd>True if clock is synchronized </dd></dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00614">614</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a43abab3a73d46ff99f33c8596512dcaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43abab3a73d46ff99f33c8596512dcaf">&#9670;&nbsp;</a></span>isRegistered()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::isRegistered </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if node is registered. </p>
<dl class="section return"><dt>Returns</dt><dd>True if node is registered </dd></dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00479">479</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="a8574c3435e748fbca1b99eeec4c770c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8574c3435e748fbca1b99eeec4c770c2">&#9670;&nbsp;</a></span>loadFlashData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::loadFlashData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads configuration from flash memory. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns <code>true</code> if data was read successfuly. <code>false</code> otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00099">99</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="af1408c0ed378a9b46e62d98f88545893"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1408c0ed378a9b46e62d98f88545893">&#9670;&nbsp;</a></span>loadRTCData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::loadRTCData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads configuration from RTC data. Uses a CRC to check data integrity. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns <code>true</code> if data is valid. <code>false</code> otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00059">59</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a846d3d0dd41fcaa8944e7cbe804bef93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a846d3d0dd41fcaa8944e7cbe804bef93">&#9670;&nbsp;</a></span>manageMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void EnigmaIOTNodeClass::manageMessage </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>mac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process every received message. </p>
<p>It starts clasiffying message usint the first byte. After that it passes it to the corresponding method for decoding </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mac</td><td>Address of message sender </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer that stores message bytes </td></tr>
    <tr><td class="paramname">count</td><td>Length of message in number of bytes </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l01150">1150</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="acce855b22bb1045a9cf4af9c4130500f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acce855b22bb1045a9cf4af9c4130500f">&#9670;&nbsp;</a></span>onConnected()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void EnigmaIOTNodeClass::onConnected </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="EnigmaIOTNode_8h.html#a37ce04fd79315c001e113198fab23386">onConnected_t</a>&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Defines a function callback that will be called everytime node is registered on gateway. </p>
<p>Use example: </p><div class="fragment"><div class="line"><span class="comment">// First define the callback function</span></div><div class="line"><span class="keywordtype">void</span> <a class="code" href="enigmaiot__led__flasher_8ino.html#a940f8c4df553df52c9145ef2df107ad3">connectEventHandler</a> () {</div><div class="line">  <span class="comment">// Do whatever you need to process disconnecion</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> <a class="code" href="enigmaiot__gateway_8ino.html#a4fc01d736fe50cf5b977f755b675f11d">setup</a> () {</div><div class="line">  .....</div><div class="line">  <span class="comment">// Now register function as data message handler</span></div><div class="line">  <a class="code" href="EnigmaIOTNode_8cpp.html#aad0a67af9b0ad60557652e3170f8a2af">EnigmaIOTNode</a>.<a class="code" href="classEnigmaIOTNodeClass.html#acce855b22bb1045a9cf4af9c4130500f">onConnected</a> (<a class="code" href="enigmaiot__led__flasher_8ino.html#a940f8c4df553df52c9145ef2df107ad3">connectEventHandler</a>);</div><div class="line">  .....</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> <a class="code" href="enigmaiot__gateway_8ino.html#afe461d27b9c48d5921c00d521181f12f">loop</a> {</div><div class="line">  .....</div><div class="line">}</div></div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>Pointer to the function </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00423">423</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="a2c8523627fb660441dbdcbc8a796c3b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c8523627fb660441dbdcbc8a796c3b4">&#9670;&nbsp;</a></span>onDataRx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void EnigmaIOTNodeClass::onDataRx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="EnigmaIOTNode_8h.html#a84ab23c0af9b591aa9a57e2040218c91">onNodeDataRx_t</a>&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Defines a function callback that will be called on every downlink data message that is received from gateway. </p>
<p>Use example: </p><div class="fragment"><div class="line"><span class="comment">// First define the callback function</span></div><div class="line"><span class="keywordtype">void</span> <a class="code" href="enigmaiot__gateway_8ino.html#a2ef41584e115125491e27e398576cb62">processRxData</a> (<span class="keyword">const</span> uint8_t* mac, <span class="keyword">const</span> uint8_t* buffer, uint8_t length) {</div><div class="line">  <span class="comment">// Do whatever you need with received data</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> <a class="code" href="enigmaiot__gateway_8ino.html#a4fc01d736fe50cf5b977f755b675f11d">setup</a> () {</div><div class="line">  .....</div><div class="line">  <span class="comment">// Now register function as data message handler</span></div><div class="line">  <a class="code" href="EnigmaIOTNode_8cpp.html#aad0a67af9b0ad60557652e3170f8a2af">EnigmaIOTNode</a>.<a class="code" href="classEnigmaIOTNodeClass.html#a2c8523627fb660441dbdcbc8a796c3b4">onDataRx</a> (<a class="code" href="enigmaiot__gateway_8ino.html#a2ef41584e115125491e27e398576cb62">processRxData</a>);</div><div class="line">  .....</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> <a class="code" href="enigmaiot__gateway_8ino.html#afe461d27b9c48d5921c00d521181f12f">loop</a> {</div><div class="line">  .....</div><div class="line">}</div></div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>Pointer to the function </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00396">396</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="a636b6779d3c5a41e52fd6bb4b0ef31c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a636b6779d3c5a41e52fd6bb4b0ef31c0">&#9670;&nbsp;</a></span>onDisconnected()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void EnigmaIOTNodeClass::onDisconnected </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="EnigmaIOTNode_8h.html#ac989871ff2fef9419b7b3917b270ea26">onDisconnected_t</a>&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Defines a function callback that will be called everytime node is disconnected from gateway. </p>
<p>Deregistration is always started by gateway due syntax or encryption error or in case of key validity is over.</p>
<p>Use example: </p><div class="fragment"><div class="line"><span class="comment">// First define the callback function</span></div><div class="line"><span class="keywordtype">void</span> <a class="code" href="enigmaiot__led__flasher_8ino.html#a6f74da8da4899c962666353e8cb4e3d6">disconnectEventHandler</a> () {</div><div class="line">  <span class="comment">// Do whatever you need to process disconnecion</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> <a class="code" href="enigmaiot__gateway_8ino.html#a4fc01d736fe50cf5b977f755b675f11d">setup</a> () {</div><div class="line">  .....</div><div class="line">  <span class="comment">// Now register function as data message handler</span></div><div class="line">  <a class="code" href="EnigmaIOTNode_8cpp.html#aad0a67af9b0ad60557652e3170f8a2af">EnigmaIOTNode</a>.<a class="code" href="classEnigmaIOTNodeClass.html#a636b6779d3c5a41e52fd6bb4b0ef31c0">onDisconnected</a> (<a class="code" href="enigmaiot__led__flasher_8ino.html#a6f74da8da4899c962666353e8cb4e3d6">disconnectEventHandler</a>);</div><div class="line">  .....</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> <a class="code" href="enigmaiot__gateway_8ino.html#afe461d27b9c48d5921c00d521181f12f">loop</a> {</div><div class="line">  .....</div><div class="line">}</div></div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>Pointer to the function </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00452">452</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="ad66c9dd4122ff289ff3098a55fabe7a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad66c9dd4122ff289ff3098a55fabe7a5">&#9670;&nbsp;</a></span>processClockResponse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::processClockResponse </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>mac</em>[6], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00576">576</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="ae57b6aba71857b28758179c91bcfb680"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae57b6aba71857b28758179c91bcfb680">&#9670;&nbsp;</a></span>processControlCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::processControlCommand </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>mac</em>[6], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes a control command. Does not propagate to user code. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mac</td><td>Gateway address </td></tr>
    <tr><td class="paramname">data</td><td>Buffer to store received message </td></tr>
    <tr><td class="paramname">len</td><td>Length of payload data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <code>true</code> if message could be correcly decoded and processed </dd></dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l01067">1067</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a37c0e0bc6f728ec86bca5d8dd017620b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37c0e0bc6f728ec86bca5d8dd017620b">&#9670;&nbsp;</a></span>processDownstreamData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::processDownstreamData </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>mac</em>[6], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>control</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes downstream data from gateway. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mac</td><td>Gateway address </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer to store received payload </td></tr>
    <tr><td class="paramname">count</td><td>Length of payload data </td></tr>
    <tr><td class="paramname">control</td><td>Idicates if downstream message is user or control data. If true it is a control message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <code>true</code> if message could be correcly decoded </dd></dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l01090">1090</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a5b8a2368449f3fd7a1986fb80d9e4274"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b8a2368449f3fd7a1986fb80d9e4274">&#9670;&nbsp;</a></span>processGetSleepTimeCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::processGetSleepTimeCommand </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>mac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes a request of sleep time configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mac</td><td>Gateway address </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer to store received message </td></tr>
    <tr><td class="paramname">len</td><td>Length of payload data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <code>true</code> if message could be correcly decoded and processed </dd></dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00815">815</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a12b0da5d06a335114f4da3a51f7caba9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12b0da5d06a335114f4da3a51f7caba9">&#9670;&nbsp;</a></span>processInvalidateKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EnigmaIOTNode_8h.html#a1c3e9c34675da8090182cab1de105bc6">nodeInvalidateReason_t</a> EnigmaIOTNodeClass::processInvalidateKey </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>mac</em>[6], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a buffer containing an <b>InvalidateKey</b> message and process it. This trigger a new key agreement to start. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mac</td><td>Address where this message was received from </td></tr>
    <tr><td class="paramname">buf</td><td>Pointer to the buffer that contains the message </td></tr>
    <tr><td class="paramname">count</td><td>Message length in number of bytes of InvalidateKey message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the reason because key is not valid anymore. Check possible values in nodeInvalidateReason_t </dd></dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l01140">1140</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="aa632927a0a9da18d3605e29aa3a055f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa632927a0a9da18d3605e29aa3a055f2">&#9670;&nbsp;</a></span>processOTACommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::processOTACommand </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>mac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes a single OTA update command or data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mac</td><td>Gateway address </td></tr>
    <tr><td class="paramname">data</td><td>Buffer to store received message </td></tr>
    <tr><td class="paramname">len</td><td>Length of payload data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <code>true</code> if message could be correcly decoded and processed </dd></dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00908">908</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a3ccccd41338c4b4ce19e06fb06842813"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ccccd41338c4b4ce19e06fb06842813">&#9670;&nbsp;</a></span>processServerHello()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::processServerHello </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>mac</em>[6], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a buffer containing a <b>ServerHello</b> message and process it. It uses that message to calculate a shared key using Diffie Hellman algorithm. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mac</td><td>Address where this message was received from </td></tr>
    <tr><td class="paramname">buf</td><td>Pointer to the buffer that contains the message </td></tr>
    <tr><td class="paramname">count</td><td>Message length in number of bytes of ServerHello message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <code>true</code> if message could be correcly processed </dd></dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00622">622</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a04a1d59adae7dc0786ac6e066c5d1263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04a1d59adae7dc0786ac6e066c5d1263">&#9670;&nbsp;</a></span>processSetIdentifyCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::processSetIdentifyCommand </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>mac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes a request to start indicate to identify a node visually. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mac</td><td>Gateway address </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer to store received message </td></tr>
    <tr><td class="paramname">len</td><td>Length of payload data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <code>true</code> if message could be correcly decoded and processed </dd></dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00838">838</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="ab348fec65af29c28ebc8c1a342e3b241"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab348fec65af29c28ebc8c1a342e3b241">&#9670;&nbsp;</a></span>processSetSleepTimeCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::processSetSleepTimeCommand </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>mac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes a request to set new sleep time configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mac</td><td>Gateway address </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer to store received message </td></tr>
    <tr><td class="paramname">len</td><td>Length of payload data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <code>true</code> if message could be correcly decoded and processed </dd></dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00849">849</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="ac2c135a9d3623b28dda13acdbd4d5615"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2c135a9d3623b28dda13acdbd4d5615">&#9670;&nbsp;</a></span>processVersionCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::processVersionCommand </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>mac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes a request firmware version. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mac</td><td>Gateway address </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer to store received message </td></tr>
    <tr><td class="paramname">len</td><td>Length of payload data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <code>true</code> if message could be correcly decoded and processed </dd></dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00890">890</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a94a6a83a983c3d258f49be646f432b37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94a6a83a983c3d258f49be646f432b37">&#9670;&nbsp;</a></span>restart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void EnigmaIOTNodeClass::restart </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>reboot</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets connection as unregistered to force a resyncrhonisation after boot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reboot</td><td>True if a reboot should be triggered after unregistration </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l01058">1058</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a4efeeca90488a14e95283c31d70ee0e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4efeeca90488a14e95283c31d70ee0e4">&#9670;&nbsp;</a></span>rx_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void EnigmaIOTNodeClass::rx_cb </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>mac_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function that will be called anytime this node receives a message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mac_addr</td><td>Address of message sender </td></tr>
    <tr><td class="paramname">data</td><td>Buffer that stores message bytes </td></tr>
    <tr><td class="paramname">len</td><td>Length of message in number of bytes </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00454">454</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="aa8820a8a50bdf0b3d355481d7b61854d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8820a8a50bdf0b3d355481d7b61854d">&#9670;&nbsp;</a></span>saveFlashData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::saveFlashData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Saves configuration to flash memory. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns <code>true</code> if data could be written successfuly. <code>false</code> otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00130">130</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a564b1f56e06c5b308c53c8240384a664"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a564b1f56e06c5b308c53c8240384a664">&#9670;&nbsp;</a></span>sendData() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::sendData </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>controlMessage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initiades data transmission distinguissing if it is payload or control data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Buffer to store payload to be sent </td></tr>
    <tr><td class="paramname">len</td><td>Length of payload data </td></tr>
    <tr><td class="paramname">controlMessage</td><td>Signals if this message is an EnigmaIoT control message that should not be passed to higher layers </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <code>true</code> if message could be correcly sent </dd></dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00686">686</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="ad30668f1c40273757fef31020a389f47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad30668f1c40273757fef31020a389f47">&#9670;&nbsp;</a></span>sendData() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::sendData </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Starts a data message transmission. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Payload buffer </td></tr>
    <tr><td class="paramname">len</td><td>Payload length </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00369">369</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="a676fe253cb264ed17525622c6fb3bd00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a676fe253cb264ed17525622c6fb3bd00">&#9670;&nbsp;</a></span>setLed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EnigmaIOTNodeClass::setLed </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>led</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>onTime</em> = <code>100</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a LED to be flashed every time a message is transmitted. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">led</td><td>LED I/O pin </td></tr>
    <tr><td class="paramname">onTime</td><td>Flash duration. 100ms by default. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00021">21</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="acbe871995405142bf6bd56bbe4ce2822"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbe871995405142bf6bd56bbe4ce2822">&#9670;&nbsp;</a></span>setSleepTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EnigmaIOTNodeClass::setSleepTime </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sleepTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allows to configure a new sleep time period from user code. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sleepTime</td><td>Time in seconds. Final period is not espected to be exact. Its value depends on communication process </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00333">333</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a81ab5be7b67c28948ea5de40e5d3c360"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81ab5be7b67c28948ea5de40e5d3c360">&#9670;&nbsp;</a></span>sleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EnigmaIOTNodeClass::sleep </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Requests transition to sleep mode (low energy state) </p>
<p>Sleep can be requested in any moment and will be triggered inmediatelly except if node is doing registration or is waiting for downlink </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00703">703</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a1701a6f85406e5deef210c74d509a471"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1701a6f85406e5deef210c74d509a471">&#9670;&nbsp;</a></span>startIdentifying()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void EnigmaIOTNodeClass::startIdentifying </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>period</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Starts node identification by flashing led. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">period</td><td>Flash led period in ms </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00219">219</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="ae1729724a332e907bddbe7b27c2f3c22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1729724a332e907bddbe7b27c2f3c22">&#9670;&nbsp;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EnigmaIOTNodeClass::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops EnigmaIoT protocol. </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00328">328</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a659fca03ecdfd18e19be1b39b4e703b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a659fca03ecdfd18e19be1b39b4e703b3">&#9670;&nbsp;</a></span>stopIdentifying()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void EnigmaIOTNodeClass::stopIdentifying </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stops node identification. </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00225">225</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<a id="a3e50f907a24843d7752e81664e28fde9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e50f907a24843d7752e81664e28fde9">&#9670;&nbsp;</a></span>tx_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void EnigmaIOTNodeClass::tx_cb </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>mac_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function that will be called anytime this node sends a message to indicate status result of sending process. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mac_addr</td><td>Address of message destination </td></tr>
    <tr><td class="paramname">status</td><td>Result of sending process </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8cpp_source.html#l00458">458</a> of file <a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a7fca29c7cd9cba0115ec42566250275d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fca29c7cd9cba0115ec42566250275d">&#9670;&nbsp;</a></span>comm</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classComms__halClass.html">Comms_halClass</a>* EnigmaIOTNodeClass::comm</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Comms abstraction layer. </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00098">98</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="a3d6b6cce8aa2484af80617db10da4ea4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d6b6cce8aa2484af80617db10da4ea4">&#9670;&nbsp;</a></span>dataMessageSent</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t EnigmaIOTNodeClass::dataMessageSent[<a class="el" href="EnigmaIoTconfig_8h.html#a9dbccd523bb0ed9a3266bc8c448f4432">MAX_MESSAGE_LENGTH</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Buffer where sent message is stored in case of retransmission is needed. </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00106">106</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="a77067c58362c3beb192545cb3ba1a775"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77067c58362c3beb192545cb3ba1a775">&#9670;&nbsp;</a></span>dataMessageSentLength</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t EnigmaIOTNodeClass::dataMessageSentLength = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Message length stored for use in case of message retransmission is needed. </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00107">107</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="a4be66e40b4882a486cf8ee80a4277438"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4be66e40b4882a486cf8ee80a4277438">&#9670;&nbsp;</a></span>flashBlue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::flashBlue = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If true Tx LED will be flashed. </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00095">95</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="a9ffe72d0ffb67d58f2e435308433b8ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ffe72d0ffb67d58f2e435308433b8ad">&#9670;&nbsp;</a></span>identifyStart</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">time_t EnigmaIOTNodeClass::identifyStart</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time when identification started flashing. Used to control identification timeout. </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00113">113</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="aa2a4910739da2e9181f2274cbc4d078a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2a4910739da2e9181f2274cbc4d078a">&#9670;&nbsp;</a></span>indentifying</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean EnigmaIOTNodeClass::indentifying = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>True if node has its led flashing to be identified. </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00112">112</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="a39fd0a21844a920f3a237e25311f58f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39fd0a21844a920f3a237e25311f58f8">&#9670;&nbsp;</a></span>invalidateReason</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EnigmaIOTNode_8h.html#a1c3e9c34675da8090182cab1de105bc6">nodeInvalidateReason_t</a> EnigmaIOTNodeClass::invalidateReason = <a class="el" href="EnigmaIOTNode_8h.html#a1c3e9c34675da8090182cab1de105bc6a8216aa4b3a817cdf8c15ed32aa946e83">UNKNOWN_ERROR</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Last key invalidation reason. </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00108">108</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="ad3d2d41b518fbbb99d6c4d8824b9d4bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3d2d41b518fbbb99d6c4d8824b9d4bd">&#9670;&nbsp;</a></span>lastOTAmsg</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">time_t EnigmaIOTNodeClass::lastOTAmsg</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time when last OTA update message has received. This is used to control timeout. </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00111">111</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="a416d8a7660d1eaa85422247e9e918781"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a416d8a7660d1eaa85422247e9e918781">&#9670;&nbsp;</a></span>led</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int8_t EnigmaIOTNodeClass::led = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>IO Pin that corresponds to Tx LED. Default value disables LED. It is initialized with <code>setLed</code> method. </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00096">96</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="a13b4e0476b9afe933303985e9a7025f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13b4e0476b9afe933303985e9a7025f1">&#9670;&nbsp;</a></span>ledOnTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int EnigmaIOTNodeClass::ledOnTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time that LED is On during flash. Initalized on <code>setLed</code> </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00097">97</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="a59edd64bf4bf9acf6b18b6af90c9a435"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59edd64bf4bf9acf6b18b6af90c9a435">&#9670;&nbsp;</a></span>node</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNode.html">Node</a> EnigmaIOTNodeClass::node</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classNode.html" title="Class definition for a single sensor Node. ">Node</a> abstraction to store context. </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00094">94</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="ae2da55526a67b70c0b724fe1d856cc72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2da55526a67b70c0b724fe1d856cc72">&#9670;&nbsp;</a></span>notifyConnection</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EnigmaIOTNode_8h.html#a37ce04fd79315c001e113198fab23386">onConnected_t</a> EnigmaIOTNodeClass::notifyConnection</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback that will be called anytime a new node is registered. </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00100">100</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="a5c188f7db5bdde5837a02e4095c3b549"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c188f7db5bdde5837a02e4095c3b549">&#9670;&nbsp;</a></span>notifyData</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EnigmaIOTNode_8h.html#a84ab23c0af9b591aa9a57e2040218c91">onNodeDataRx_t</a> EnigmaIOTNodeClass::notifyData</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback that will be called on every message reception. </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00099">99</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="a0e506efc2aa99694bfa13a59b07d55cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e506efc2aa99694bfa13a59b07d55cc">&#9670;&nbsp;</a></span>notifyDisconnection</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EnigmaIOTNode_8h.html#ac989871ff2fef9419b7b3917b270ea26">onDisconnected_t</a> EnigmaIOTNodeClass::notifyDisconnection</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback that will be called anytime a node is disconnected. </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00101">101</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="a70fa9cce1a3080b3e946783a791363d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70fa9cce1a3080b3e946783a791363d6">&#9670;&nbsp;</a></span>otaError</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::otaError = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>True if OTA update has failed. This normally produces a restart. </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00110">110</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="a238294f8ca6888e5e6000592e0955888"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a238294f8ca6888e5e6000592e0955888">&#9670;&nbsp;</a></span>otaRunning</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::otaRunning = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>True if OTA update has started. </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00109">109</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="ad3f6f92f204d4667e2a577cd23965f69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3f6f92f204d4667e2a577cd23965f69">&#9670;&nbsp;</a></span>rtcmem_data</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrtcmem__data__t.html">rtcmem_data_t</a> EnigmaIOTNodeClass::rtcmem_data</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Context data to be stored on persistent storage. </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00103">103</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="a0186926009fc565b05f5a2c37dfb3649"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0186926009fc565b05f5a2c37dfb3649">&#9670;&nbsp;</a></span>sleepRequested</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::sleepRequested = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>true</code> means that this node will sleep as soon a message is sent and downlink wait time has passed </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00104">104</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="a358bcf3efcf3a3c08249409852590e91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a358bcf3efcf3a3c08249409852590e91">&#9670;&nbsp;</a></span>sleepTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t EnigmaIOTNodeClass::sleepTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time in microseconds that this node will be slept between measurements. </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00105">105</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<a id="acb396ad8481d5fe7c99227cae4a1f1cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb396ad8481d5fe7c99227cae4a1f1cf">&#9670;&nbsp;</a></span>useCounter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EnigmaIOTNodeClass::useCounter = true</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>true</code> means that data message counter will be used to mark message order </p>

<p class="definition">Definition at line <a class="el" href="EnigmaIOTNode_8h_source.html#l00102">102</a> of file <a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="EnigmaIOTNode_8h_source.html">EnigmaIOTNode.h</a></li>
<li>src/<a class="el" href="EnigmaIOTNode_8cpp_source.html">EnigmaIOTNode.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
